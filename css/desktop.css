/* ============================================
   DropLit Desktop Layout v1.1
   Chat LEFT (like Claude), Drops RIGHT
   All rules scoped to body.layout-desktop
   ============================================ */

/* ── Root: full-width dark background ── */
body.layout-desktop {
  background: #0B1120;
  overflow: hidden;
}

/* ── App container: override 480px mobile constraint ── */
body.layout-desktop .app {
  max-width: 100% !important;
  width: 100%;
  margin: 0;
  height: 100vh;
  overflow: hidden;
}

/* ── Header: full width, refined ── */
body.layout-desktop .header {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  z-index: 600;
  padding: 8px 24px;
  background: var(--color-bg-card);
  border-bottom: 1px solid var(--color-border, rgba(255,255,255,0.06));
}

body.layout-desktop .header-title {
  font-size: 1.2rem;
}

/* ── LEFT PANEL: ASKI Chat (always visible) ── */
body.layout-desktop .ask-ai-panel {
  position: fixed !important;
  top: 56px !important;
  left: 0 !important;
  bottom: 0 !important;
  width: 55% !important;
  max-width: 720px !important;
  min-width: 400px !important;
  transform: none !important;
  border-radius: 0 !important;
  z-index: 100 !important;
  display: flex !important;
  flex-direction: column !important;
  background: var(--color-bg, #0F172A) !important;
  border-right: 1px solid var(--color-border, rgba(255,255,255,0.08));
  box-shadow: none !important;
  animation: none !important;
  transition: none !important;
}

body.layout-desktop .ask-ai-panel,
body.layout-desktop .ask-ai-panel.show {
  transform: none !important;
  visibility: visible !important;
  opacity: 1 !important;
}

body.layout-desktop .ask-ai-handle {
  display: none !important;
}

body.layout-desktop .ask-ai-header {
  padding: 12px 24px;
  flex-shrink: 0;
}

body.layout-desktop .ask-ai-close {
  display: none !important;
}

body.layout-desktop .ask-ai-messages {
  flex: 1;
  overflow-y: auto;
  padding: 20px 24px 20px;
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,0.15) transparent;
}

body.layout-desktop .ask-ai-messages::-webkit-scrollbar {
  width: 5px;
}

body.layout-desktop .ask-ai-messages::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.15);
  border-radius: 4px;
}

body.layout-desktop .ask-ai-msg {
  max-width: 80%;
}

body.layout-desktop .ask-ai-msg.assistant,
body.layout-desktop .ask-ai-message.ai {
  max-width: 88%;
}

body.layout-desktop .ask-ai-input-area {
  padding: 12px 24px 16px !important;
  padding-bottom: 16px !important;
  flex-shrink: 0;
  border-top: 1px solid var(--color-border, rgba(255,255,255,0.06));
}

body.layout-desktop .ask-ai-input {
  font-size: 14px;
  min-height: 44px;
  max-height: 200px !important;
}

body.layout-desktop .ask-ai-controls-bottom {
  padding-bottom: 0 !important;
}

body.layout-desktop .ask-ai-empty {
  padding: 60px 40px;
}

body.layout-desktop .ask-ai-empty-title {
  font-size: 1.3rem;
}

body.layout-desktop .ask-ai-char-count {
  padding-bottom: 0;
}

/* ── RIGHT PANEL: Drops list ── */
body.layout-desktop .filters-wrap {
  position: fixed;
  top: 56px;
  right: 0;
  width: 45%;
  max-width: calc(100% - 400px);
  min-width: 300px;
  z-index: 90;
  padding: 0;
}

body.layout-desktop .filters {
  padding: 10px 16px;
}

body.layout-desktop .ideas-wrap {
  position: fixed;
  top: 56px;
  right: 0;
  bottom: 0;
  width: 45%;
  max-width: calc(100% - 400px);
  min-width: 300px;
  overflow-y: auto;
  padding: 10px;
  padding-bottom: 80px;
  z-index: 80;
  background: var(--color-bg, #0F172A);
  scrollbar-width: thin;
  scrollbar-color: rgba(255,255,255,0.15) transparent;
}

body.layout-desktop .ideas-wrap::-webkit-scrollbar {
  width: 5px;
}

body.layout-desktop .ideas-wrap::-webkit-scrollbar-thumb {
  background: rgba(255,255,255,0.15);
  border-radius: 4px;
}

body.layout-desktop .search-indicator {
  position: fixed;
  top: 56px;
  right: 0;
  width: 45%;
  max-width: calc(100% - 400px);
  z-index: 95;
}

body.layout-desktop .network-banner {
  position: fixed;
  top: 56px;
  left: 0;
  right: 0;
  z-index: 700;
}

body.layout-desktop .card {
  border-radius: 10px;
}

body.layout-desktop .card:hover {
  background: var(--color-bg-soft, rgba(255,255,255,0.03));
  cursor: pointer;
}

/* ── FAB buttons: bottom of RIGHT panel ── */
body.layout-desktop .fab-container {
  position: fixed !important;
  bottom: 12px !important;
  left: auto !important;
  right: 0 !important;
  width: 45% !important;
  max-width: calc(100% - 400px) !important;
  min-width: 300px !important;
  padding: 0 20px !important;
  z-index: 200 !important;
  display: flex !important;
  justify-content: center !important;
  gap: 12px !important;
}

body.layout-desktop #fabAskAI {
  display: none !important;
}

/* ── Main Menu: over right panel only ── */
body.layout-desktop .main-menu {
  position: fixed;
  top: 56px !important;
  left: auto !important;
  right: 0 !important;
  width: 45% !important;
  max-width: calc(100% - 400px) !important;
  min-width: 300px !important;
  bottom: 0;
  z-index: 450;
}

body.layout-desktop .main-menu-content {
  max-width: 100%;
  width: 100%;
  border-radius: 0;
}

/* ── Plus Menu: over right panel ── */
body.layout-desktop .plus-menu {
  position: fixed;
  bottom: 0;
  left: auto !important;
  right: 0 !important;
  width: 45% !important;
  max-width: calc(100% - 400px) !important;
  min-width: 300px !important;
  border-radius: 16px 16px 0 0;
  z-index: 500;
}

body.layout-desktop .plus-menu-backdrop {
  position: fixed;
  top: 0;
  left: auto !important;
  right: 0 !important;
  width: 45% !important;
  bottom: 0;
  z-index: 499;
}

/* ── Scroll buttons: right panel ── */
body.layout-desktop .scroll-fab {
  right: 20px !important;
  left: auto !important;
}

/* ── Recording status ── */
body.layout-desktop .rec-status {
  position: fixed;
  bottom: 70px;
  right: 20%;
  left: auto;
}

/* ── Voice large button ── */
body.layout-desktop .ask-ai-voice-large {
  max-width: 320px;
  margin: 0 auto;
}

/* ── Notification banner ── */
body.layout-desktop .notif-banner {
  max-width: 500px;
  left: 50%;
  transform: translateX(-50%);
  border-radius: 12px;
}

/* ── Hover effects ── */
body.layout-desktop .ask-ai-prompt:hover {
  transform: translateY(-1px);
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

body.layout-desktop .fab-record:hover {
  transform: scale(1.05);
}

body.layout-desktop .fab-pill:hover,
body.layout-desktop .fab-camera:hover {
  opacity: 0.9;
}

/* ── Onboarding: center ── */
body.layout-desktop .onboarding-modal {
  display: flex;
  align-items: center;
  justify-content: center;
}

body.layout-desktop .onboarding-container {
  max-width: 460px;
  border-radius: 16px;
  margin: 0 auto;
}

/* ── Responsive breakpoints ── */

@media (min-width: 769px) and (max-width: 1100px) {
  body.layout-desktop .ask-ai-panel {
    width: 50% !important;
    min-width: 360px !important;
  }
  
  body.layout-desktop .filters-wrap,
  body.layout-desktop .ideas-wrap,
  body.layout-desktop .fab-container,
  body.layout-desktop .main-menu,
  body.layout-desktop .plus-menu,
  body.layout-desktop .plus-menu-backdrop,
  body.layout-desktop .search-indicator {
    width: 50% !important;
    max-width: calc(100% - 360px) !important;
  }
}

@media (min-width: 1600px) {
  body.layout-desktop .ask-ai-panel {
    width: 50% !important;
    max-width: 800px !important;
  }
  
  body.layout-desktop .ask-ai-msg {
    max-width: 72%;
  }
  
  body.layout-desktop .filters-wrap,
  body.layout-desktop .ideas-wrap,
  body.layout-desktop .fab-container,
  body.layout-desktop .main-menu,
  body.layout-desktop .plus-menu,
  body.layout-desktop .plus-menu-backdrop,
  body.layout-desktop .search-indicator {
    width: 50% !important;
    max-width: calc(100% - 800px) !important;
  }
}

/* ── Override mobile chat-open behavior ── */
body.layout-desktop.chat-open .fab-container {
  display: flex !important;
  opacity: 1 !important;
  pointer-events: auto !important;
}

body.layout-desktop.chat-open .fab-camera,
body.layout-desktop.chat-open .fab-record {
  opacity: 1 !important;
  pointer-events: auto !important;
}

body.layout-desktop.chat-open .ideas-wrap,
body.layout-desktop.chat-open .filters-wrap {
  display: block !important;
  visibility: visible !important;
  opacity: 1 !important;
}

/* ── Print ── */
@media print {
  body.layout-desktop .fab-container,
  body.layout-desktop .ask-ai-controls-bottom,
  body.layout-desktop .ask-ai-input-area,
  body.layout-desktop .header {
    display: none !important;
  }
}
